<!--
///////////////////////////////////////////////////////////////////////////////////
//                     Copyright (C) 2018 Dr Robert P. Wolf                      //
//                                                                               //
// Permission is hereby granted, free of charge, to any person obtaining a copy  //
// of this software and associated documentation files (the "Software"), to deal //
// in the Software without restriction, including without limitation the rights  //
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell     //
// copies of the Software, and to permit persons to whom the Software is         //
// furnished to do so, subject to the following conditions:                      //
//                                                                               //
// The above copyright notice and this permission notice shall be included in    //
// all copies or substantial portions of the Software.                           //
//                                                                               //
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR    //
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,      //
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE   //
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER        //
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, //
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN     //
// THE SOFTWARE.                                                                 //
///////////////////////////////////////////////////////////////////////////////////

-->

<html>

<head>
	<title>SEAWOLF</title>
	<style>
	td {padding: 6px;}
	</style>
</head>

<body bgcolor="#000044" style = "margin: 0;"
	onkeydown="javascript: return ctrl (event);"
	onwheel="javascript: return onWheel (event);"
	oncontextmenu="javascript: event . preventDefault ();"
>
<div><canvas id="seawolf" onmousedown="javascript: return onMouseDown (event);"/></div>

<div id="info" style="position: absolute; left: 8px; top: 8px; font-family: arial;">
	<table style="background: #0000ffb0; color: yellow;">
		<tr>
			<td>Bearing:</td><td><div id="simulation_bearing"/></td><td><div id="selected_bearing"/></td>
		</tr>
		<tr>
			<td>Speed:</td><td><div id="simulation_speed"/></td><td><div id="selected_speed"/></td>
		</tr>
		<tr>
			<td>Depth:</td><td><div id="simulation_depth"/></td><td><div id="selected_depth"/></td>
		</tr>
		<tr>
			<td><div id="selected_name"/></td><td><div id="selected_distance"/></td><td><div id="selected_heading"/></td>
		</tr>
	</table>
</div>

<div id="ctrl" style="position: absolute; top: 8px; right: 8px; font-family: arial;">
	<table style="background: #ff00ffb0; color: yellow;">
		<tr>
			<td>SPEED:</td>
			<td>
				<input type="button" value="STOP" onclick="javascript: simulated . setSpeed ('stop');"/>
				<input type="button" value="SLOW" onclick="javascript: simulated . setSpeed ('slow');"/>
				<input type="button" value="1/4" onclick="javascript: simulated . setSpeed ('one quarter');"/>
				<input type="button" value="1/2" onclick="javascript: simulated . setSpeed ('half');"/>
				<input type="button" value="3/4" onclick="javascript: simulated . setSpeed ('three quarters');"/>
				<input type="button" value="FULL" onclick="javascript: simulated . setSpeed ('full');"/>
				<input type="button" value="FLANK" onclick="javascript: simulated . setSpeed ('flank');"/>
			</td>
		</tr>
		<tr>
			<td>DEPTH:</td>
			<td>
				<input type="button" value="SURFACE" onclick="javascript: simulated . targetDepth ('surface');"/>
				<input type="button" value="PERISCOPE" onclick="javascript: simulated . targetDepth ('periscope');"/>
				<input type="button" value="UP THERMAL" onclick="javascript: simulated . targetDepth ('up thermal');"/>
				<input type="button" value="DOWN THERMAL" onclick="javascript: simulated . targetDepth ('down thermal');"/>
				<input type="button" value="TEST" onclick="javascript: simulated . targetDepth ('test');"/>
				<input type="button" value="CRUSH" onclick="javascript: simulated . targetDepth ('crush');"/>
				<input type="button" value="SPECIFY" onclick="javascript: simulated . targetDepth (prompt ('Enter depth'));"/>
			</td>
		</tr>
	</table>
</div>

</body>

<script src="simulator.js" type="text/javascript" encoding="UTF-8"></script>
<script src="vessel.js" type="text/javascript" encoding="UTF-8"></script>


<script>

var texas = new Virginia ('Texas');
var hawaii = new Virginia ('Hawaii');
var virginia = new Virginia ('Virginia');
var kuguar = new Akula ('Kuguar');
hawaii . position = {x: 2.5, y: 0, bearing: 40, depth: 150}; hawaii . setSpeed ('half'); hawaii . depth_target = 150;
texas . position = {x: 2.5, y: 0, bearing: 180, depth: 150}; texas . setSpeed ('flank'); texas . depth_target = 150;
kuguar . position = {x: -2.5, y: 0, bearing: 100, depth: 150}; kuguar . setSpeed ('full'); kuguar . depth_target = 150;
addVessel (texas);
addVessel (hawaii);
addVessel (virginia);
addVessel (kuguar);

simulatedVessel (texas);

showVessels ();

</script>

</html>
